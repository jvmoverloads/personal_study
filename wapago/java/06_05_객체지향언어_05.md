## 7.1 상속

### 상속의 정의와 장점

    상속이란, 기존의 클래스를 재사용하여 새로운 클래스를 작성하는 것.

자바에서 상속을 구현하는 방법은 간단하다. 새로 작성하고자 하는 클래스의 이름 뒤에 상속받고자 하는 클래스의 이름을 키워드
***extends***와 함께 써 주기만 하면 된다.

    조상클래스 : 부모클래스, 상위(super)클래스, 기반클래스
    자손클래스 : 자식클래스, 하위클래스, 파생된 클래스

만일 Parent클래스에 age라는 정수형 변수를 멤버변수로 추가하면, 자손 클래스는 조상의 멤버를 모두 상속받기 때문에, Child클래스는 자동적으로
age라는 멤버변수가 추가된 것과 같은 효과를 얻는다.
```java
Class Parent { }
Class Child extends Parent { }
```        
<figure>
    <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F2464DD4B589C544426">
    <img src="https://velog.velcdn.com/images/im_lily/post/2331f5ee-c790-4078-821e-36aa0074e3a4/image.png">
</figure>

이번엔 반대로 자손인 Child클래스에 새로운 멤버로 play() 메서드를 추가해보자.
```java
class Parent {
    int age;    
}

class Child extends Parent {
    void play() {
        System.out.println("놀자~");
    }
}
```
<figure>
    <img src="https://velog.velcdn.com/images/juun/post/12ef3063-e6e0-44ca-b57f-0767b48cedce/image.png">
</figure>
조상인 Parent클래스는 아무런 영향도 받지 않는다. 자손클래스가 변경되는 것은 조상 클래스에 아무런 영향을 주지 못한다.</br>
자손클래스는 조상 클래스의 모든 멤버를 상속 받으므로 항상 조상 클래스보다 같거나 많은 멤버를 갖는다.</br>
그래서 상속을 받는다는 것은 조상클래스를 확장(extend)한다는 의미로 해석할 수 있으며 이것이 상속에 사용되는 키워드가 'extends'인 이유이기도 하다.

    자손클래스의 멤버개수는 조상클래스보다 항상 같거나 많다.
    멤버만 상속된다. 생성자와 초기화 블럭은 상속되지 않는다.

이번엔 Parent클래스로부터 상속받는 Child2클래스를 새로 작성해보자. Child2클래스를 포함한 세 클래스간의 상속계층도는 다음과 같을 것이다.
```java
class Parent { }
class Child extends Parent { }
class Child2 extends Parent { }
```
<figure>
    <img src="https://hongchangsub.com/content/images/2022/02/Screen-Shot-2022-02-14-at-6.30.52-PM.png">
</figure>

Parent클래스와 Child클래스, Parent클래스와 Child2클래스는 서로 상속관계에 있지만</br> 클래스 Child와 Child2간에는 서로 아무런 관계도
성립되지 않는다. 클래스 간의 관계에서 형제관계와 같은 것은 없다.</br> 
만일 Child클래스와 Child2클래스에 공통적으로 추가되어야 하는 멤버(멤버변수나 메서드)가 있다면,</br>
이들의 공통조상인 Parent클래스에 추가하면 된다.</br>
</br>
여기에 또다시 Child클래스로부터 상속받는 GrandChild라는 새로운 클래스를 추가한다면 상속계층도는 다음과 같을 것이다.
```java
class Parent { }
class Child extends Parent { }
class Child2 extends Parent { }
class GrandChild extends Child { }
```
<figure>
    <img src="https://blog.kakaocdn.net/dn/bMIAMn/btrcM0oqxl9/hzbF0EQ4XNDQ7Z1RCW8rEk/img.png">
</figure>
자손클래스는 조상클래스의 모든 멤버를 물려받는다.</br>
따라서 GrandChild클래스는 Child클래스의 모든 멤버, Child클래스의 조상인 Parent클래스로부터 상속받은 멤버까지 상속받게 된다.</br>
그래서 GrandChild클래스는 Child클래스의 자손이면서 Parent클래스의 자손이기도 하다.</br>
좀 더 정확히 말하자면, Parent클래스는 GrandChild클래스의 간접조상이다. 두 클래스는 간접적인 상속관계에 있다.</br>
<br></br>
이제 Parent클래스에 전과 같이 정수형 변수인 age를 멤버변수로 추가해 보자.

```java
class Parent {
    int age;
}
class Child extends Parent { }
class Child2 extends Parent { }
class GrandChild extends Child { }
```
<figure>
    <img src="https://velog.velcdn.com/images/mrcocoball/post/1c77697e-c031-4c82-9a82-77d907e6b401/image.png">
</figure>
<br></br>

```java
class Tv {
    boolean power;
    int channel;
    
    void power() { power = !power; }
    void channelUp() { ++channel; }
    void channelDown() { --channel; }
}

class CaptionTv extends Tv {
    boolean caption;    // 캡션(자막)상태(on/off)
    void displayCaption(String text) {
        if (caption) {  
            System.out.println(text);
        }
    }
}

class CaptionTvTest {
    public static void main(String[] args) {
        CaptionTv ctv = new CaptionTv();
        
        // 조상클래스로부터 상속받은 멤버
        ctv.channel = 10;   
        ctv.channelUp();

        System.out.println(ctv.channel);
        
        ctv.displayCaption("Hello, World");
        ctv.caption = true; // 캡션(자막)기능을 켠다.
        ctv.displayCaption("Hello, World");
    }
}
```
    자손 클래스의 인스턴스를 생성하면 조상클래스의 멤버와 자손클래스의 멤버가 합쳐진
    하나의 인스턴스로 생성된다.
<figure>
    <img src="https://blog.kakaocdn.net/dn/dCJaO1/btqWBz7j5Lt/ZZ4kieBVo9wivYNR7r2buK/img.png">
</figure>
<br></br>

### 클래스간의 관계 - 포함관계
상속이외에도 클래스를 재사용하는 또 다른 방법이 있는데, 그것은 클래스 간에 '포함(Composite)'관계를 맺어 주는 것이다. 클래스 간의 포함관계를
맺어 주는 것은 한 클래스의 멤버변수로 다른 클래스 타입의 참조변수를 선언하는 것을 뜻한다.</br>
<br></br>
원(Circle)을 표현하기 위한 Circle이라는 클래스를 다음과 같이 작성하였다고 가정하자.

```java
class Circle {
    int x;      // 원점의 x좌표
    int y;      // 원점의 y좌표
    int r;      // 반지름(radius)
}
```
그리고 좌표상의 한 점을 다루기 위한 Point클래스가 다음과 같이 작성되어 있다고 하자.
```java
class Point {
    int x;      // 원점의 x좌표
    int y;      // 원점의 y좌표
}
```
Point클래스를 재사용해서 Circle클래스를 작성한다면 다음과 같이 할 수 있을 것이다.
```java
class Circle {
    Point c = new Point();
    int r;
}
```
이와 같이 한 클래스를 작성하는 데 다른 클래스를 멤버변수로 선언하여 포함시키는 것은 좋은 생각이다. 단위별로 여러개의 클래스를
작성한 다음, 이 단위 클래스들을 포함관계로 재사용하면 간결한 코드를 작성할 수 있다.
<br></br>
### 클래스간의 관계 결정하기
클래스의 작성에 있어서 상속관계를 맺어줄 것인지 포함관계를 맺어줄 것인지 결정하는 것은 때때로 혼돈스러울 수 있다.
이전에 예를 든 Circle클래스의 경우, Point클래스를 포함시키는 대신 상속관게를 맺어주었다면 다음과 같을 것이다.
```java
class Circle extends Point {
    int r;
}
```
두 경우를 비교해보면 Circle클래스를 작성하는데 있어서 Point클래스를 포함시키거나 상속받도록 하는 것은 결과적으로 차이가 없어보인다.
그럴 때는 '~은 ~이다'와 '~은 ~을 가지고 있다' 를 넣어서 문장을 만들어 보면 클래스 간의 관계가 보다 명확해 진다.

    원은 점이다.
    원은 점을 가지고 있다.

